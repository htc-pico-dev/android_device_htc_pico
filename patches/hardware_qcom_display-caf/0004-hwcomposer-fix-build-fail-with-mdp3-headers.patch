From 8c22b692638e9c7460d4d5a93e0f61236bf66441 Mon Sep 17 00:00:00 2001
From: thewisenerd <thewisenerd@protonmail.com>
Date: Fri, 10 Nov 2017 02:17:00 +0530
Subject: [PATCH 4/4] hwcomposer: fix build fail with mdp3 headers

Change-Id: Ibd7adc6605e141f004c7c35c01c32126a43688ff
---
 libhwcomposer/hwc_utils.cpp | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/libhwcomposer/hwc_utils.cpp b/libhwcomposer/hwc_utils.cpp
index f45aca7..b28f6b5 100644
--- a/libhwcomposer/hwc_utils.cpp
+++ b/libhwcomposer/hwc_utils.cpp
@@ -1154,6 +1154,7 @@ int hwc_sync(hwc_context_t *ctx, hwc_display_contents_1_t* list, int dpy,
     if(dpy)
        isExtAnimating = ctx->listStats[dpy].isDisplayAnimating;
 
+#ifndef USE_MDP3
 #ifndef MDSS_TARGET
     //Send acquireFenceFds to rotator
     if(mdpVersion >= qdutils::MDP_V4_0 && mdpVersion < qdutils::MDSS_V5) {
@@ -1179,6 +1180,7 @@ int hwc_sync(hwc_context_t *ctx, hwc_display_contents_1_t* list, int dpy,
     } else {
         //TODO B-family
     }
+#endif
 #endif
 
     //Accumulate acquireFenceFds for MDP
-- 
2.15.0

